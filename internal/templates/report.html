<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>License Scanner Report</title>
    <!-- stylelint-disable -->
    <style>{{.CSS}}</style>
    <!-- stylelint-enable -->
</head>
<body>
    <div class="container">
        <h1>üìÑ License Scanner Report</h1>

        <div class="summary">
            <h2>üìä Summary</h2>
            <div class="metric">
                <span class="metric-value">{{.Summary.TotalDependencies}}</span>
                <span class="metric-label">Total Dependencies</span>
            </div>
            <div class="metric">
                <span class="metric-value">{{len .Summary.UniqueLicenses}}</span>
                <span class="metric-label">Unique Licenses</span>
            </div>
            <div class="metric">
                <span class="metric-value risk-{{.Summary.RiskLevel}}">{{.Summary.RiskLevel | title}}</span>
                <span class="metric-label">Risk Level</span>
            </div>

            <h3>üè∑Ô∏è License Types</h3>
            <div class="licenses">
                {{range .Summary.UniqueLicenses}}
                <span class="license-badge">{{.}}</span>
                {{end}}
            </div>

            {{if .Summary.Recommendations}}
            <h3>üí° Recommendations</h3>
            <ul>
                {{range .Summary.Recommendations}}
                <li>{{.}}</li>
                {{end}}
            </ul>
            {{end}}
        </div>

        <h2>üì¶ Dependencies</h2>
        <table id="dependencyTable">
            <thead>
                <tr>
                    <th class="sortable" data-column="0">Package</th>
                    <th class="sortable" data-column="1">Version</th>
                    <th class="sortable" data-column="2">License</th>
                    <th class="sortable" data-column="3">Confidence</th>
                    <th class="sortable" data-column="4">Source</th>
                </tr>
            </thead>
            <tbody>
                {{range .Dependencies}}
                <tr>
                    <td><strong>{{.Name}}</strong></td>
                    <td>{{.Version}}</td>
                    <td>{{.License}}</td>
                    <td>
                        <span class="confidence {{if ge .Confidence 0.9}}confidence-high{{else if ge .Confidence 0.5}}confidence-medium{{else}}confidence-low{{end}}">
                            {{printf "%.1f" .Confidence}}
                        </span>
                    </td>
                    <td><span class="source">{{.Source}}</span></td>
                </tr>
                {{end}}
            </tbody>
        </table>

        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #7f8c8d;">
            <p>Generated by <strong>License Scanner</strong> on {{.Timestamp}}</p>
        </footer>
    </div>

    <!-- eslint-disable -->
    <script>{{.JS}}</script>
    <!-- eslint-enable -->
</body>
</html>
